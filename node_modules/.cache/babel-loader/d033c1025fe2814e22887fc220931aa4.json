{"ast":null,"code":"var _jsxFileName = \"/home/ashraf/Desktop/contact-list-release2/src/components/ContactItem/ContactItem.js\";\nimport React, { Component } from 'react';\nimport { BorderBottom, Wrapper, DeleteBtn, Card, Details, ContactDetails, ContactImage, ContactName } from \"./ContactItemStyle\";\nimport DetailsModal from \"../DetailsModal/DetailsModal\";\nimport DeleteModal from \"../DeleteModal/DeleteModal\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\n\nclass ContactItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDragStart = x => {\n      this.setState({\n        isDragged: true,\n        startX: x\n      });\n      this.startTime = Date.now(); //use requestAnimationFrame(callback) to tell the browser to perform an animation\n      //it requests that the browser calls a specified function to update an animation\n\n      requestAnimationFrame(this.updatePosition);\n    };\n\n    this.onDragEnd = () => {\n      if (this.state.isDragged) {\n        this.setState({\n          isDragged: false\n        });\n\n        if (this.state.left < -66) {\n          if (!this.state.isSwiped) {\n            this.setState({\n              left: -66,\n              isSwiped: true\n            }, () => {});\n          }\n        } else {\n          if (!this.state.isSwiped) {\n            this.setState({\n              left: 0\n            });\n          }\n        }\n      }\n    };\n\n    this.onDragStartMouse = e => {\n      this.onDragStart(e.clientX);\n      window.addEventListener(\"mousemove\", this.onMouseMove);\n    };\n\n    this.onDragEndMouse = e => {\n      window.removeEventListener(\"mousemove\", this.onMouseMove);\n      this.onDragEnd();\n    };\n\n    this.onDragStartTouch = e => {\n      const touch = e.targetTouches[0];\n      this.onDragStart(touch.clientX);\n      window.addEventListener(\"touchmove\", this.onTouchMove);\n    };\n\n    this.onDragEndTouch = e => {\n      window.removeEventListener(\"touchmove\", this.onTouchMove);\n      this.onDragEnd();\n    };\n\n    this.onMouseMove = e => {\n      const left = e.clientX - this.state.startX;\n\n      if (left < 0) {\n        this.setState({\n          left: left\n        });\n      }\n    };\n\n    this.onTouchMove = e => {\n      const touch = e.targetTouches[0];\n      const left = touch.clientX - this.state.startX;\n\n      if (left < 0) {\n        this.setState({\n          left: left\n        });\n      }\n    };\n\n    this.updatePosition = () => {\n      if (this.state.isDragged) {\n        requestAnimationFrame(this.updatePosition);\n      }\n\n      const time = Date.now();\n      const elapsedTime = time - this.startTime;\n\n      if (this.state.isDragged && elapsedTime > 1000 / 60) {\n        this.startTime = Date.now();\n      }\n    };\n\n    this.showDetails = () => {\n      console.log(this.state.isToggleOn);\n      this.setState({\n        isToggleOn: !this.state.isToggleOn\n      }, () => console.log(this.state.isToggleOn));\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        isToggleOn: !this.state.isToggleOn\n      });\n    };\n\n    this.state = {\n      isDragged: false,\n      isToggleOn: false,\n      isSwiped: false,\n      isDeleted: false,\n      startX: 0,\n      left: 0\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"mouseup\", this.onDragEndMouse);\n    window.addEventListener(\"touchend\", this.onDragEndTouch);\n  } // componentWillUnmount() {\n  //     window.removeEventListener(\"mouseup\", this.onDragEndMouse);\n  //     window.removeEventListener(\"touchend\".this.onDragEndTouch);\n  // }\n\n\n  render() {\n    return React.createElement(Wrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.state.isToggleOn && React.createElement(DetailsModal, {\n      contact: this.props.contact,\n      isToggleOn: this.state.isToggleOn,\n      handleClose: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(Card, {\n      status: this.state.isSwiped,\n      onDoubleClick: this.showDetails,\n      onMouseDown: this.onDragStartMouse,\n      onTouchStart: this.onDragStartTouch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(ContactImage, {\n      src: this.props.contact.image_url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(Details, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(ContactName, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, this.props.contact.first_name, \" \", this.props.contact.last_name), !this.state.isSwiped && React.createElement(React.Fragment, null, React.createElement(ContactDetails, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, this.props.contact.phone), React.createElement(ContactDetails, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.props.contact.company))), React.createElement(BorderBottom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })), React.createElement(DeleteBtn, {\n      onClick: () => {\n        this.props.onDeleteContact();\n        this.setState({\n          isSwiped: false\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faTrash,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), true && React.createElement(DeleteModal, {\n      isDeleted: this.state.isDeleted,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ContactItem;","map":{"version":3,"sources":["/home/ashraf/Desktop/contact-list-release2/src/components/ContactItem/ContactItem.js"],"names":["React","Component","BorderBottom","Wrapper","DeleteBtn","Card","Details","ContactDetails","ContactImage","ContactName","DetailsModal","DeleteModal","FontAwesomeIcon","faTrash","ContactItem","constructor","props","onDragStart","x","setState","isDragged","startX","startTime","Date","now","requestAnimationFrame","updatePosition","onDragEnd","state","left","isSwiped","onDragStartMouse","e","clientX","window","addEventListener","onMouseMove","onDragEndMouse","removeEventListener","onDragStartTouch","touch","targetTouches","onTouchMove","onDragEndTouch","time","elapsedTime","showDetails","console","log","isToggleOn","handleClose","isDeleted","componentDidMount","render","contact","image_url","first_name","last_name","phone","company","onDeleteContact"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BorderBottom ,Wrapper, DeleteBtn, Card, Details, ContactDetails, ContactImage, ContactName } from \"./ContactItemStyle\";\nimport DetailsModal from \"../DetailsModal/DetailsModal\";\nimport DeleteModal from \"../DeleteModal/DeleteModal\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\n\n\nclass ContactItem extends Component {\n    startTime;\n    constructor(props){\n        super(props);\n        this.state = {\n            isDragged: false,\n            isToggleOn: false,\n            isSwiped: false,\n            isDeleted: false,\n            startX: 0,\n            left: 0,\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"mouseup\", this.onDragEndMouse);\n        window.addEventListener(\"touchend\", this.onDragEndTouch);\n    }\n\n    // componentWillUnmount() {\n    //     window.removeEventListener(\"mouseup\", this.onDragEndMouse);\n    //     window.removeEventListener(\"touchend\".this.onDragEndTouch);\n    // }\n\n    onDragStart = (x) => {\n        this.setState({isDragged: true, startX: x});\n        this.startTime = Date.now();\n        //use requestAnimationFrame(callback) to tell the browser to perform an animation\n        //it requests that the browser calls a specified function to update an animation\n        requestAnimationFrame(this.updatePosition);\n    }\n\n    onDragEnd = () => {\n        if(this.state.isDragged){\n            this.setState({isDragged: false});\n            if(this.state.left < -66){\n                if(!this.state.isSwiped){\n                    this.setState({left: -66,isSwiped: true},()=>{\n                    });\n                }\n            } else {\n                if(!this.state.isSwiped){\n                    this.setState({left:0});\n                }\n            }\n        }\n    }\n\n    onDragStartMouse = (e) => {\n        this.onDragStart(e.clientX);\n        window.addEventListener(\"mousemove\",this.onMouseMove);\n    }\n\n    onDragEndMouse = (e) => {\n        window.removeEventListener(\"mousemove\",this.onMouseMove);\n        this.onDragEnd();\n    }\n\n    onDragStartTouch = (e) => {\n        const touch = e.targetTouches[0];\n        this.onDragStart(touch.clientX);\n        window.addEventListener(\"touchmove\",this.onTouchMove);\n    }\n\n    onDragEndTouch = (e) => {\n        window.removeEventListener(\"touchmove\",this.onTouchMove);\n        this.onDragEnd();\n    }\n\n    onMouseMove = (e) => {\n        const left = e.clientX - this.state.startX;\n        if(left<0){\n            this.setState({left: left});\n        }\n    }\n\n    onTouchMove = (e) => {\n        const touch = e.targetTouches[0];\n        const left = touch.clientX - this.state.startX;\n        if(left<0){\n            this.setState({left: left});\n        }\n    }\n\n    updatePosition = () => {\n        if(this.state.isDragged) {\n            requestAnimationFrame(this.updatePosition);\n        }\n\n        const time = Date.now();\n        const elapsedTime = time - this.startTime; \n\n        if(this.state.isDragged && (elapsedTime > 1000/60)) {\n            this.startTime = Date.now();\n        }\n    }\n\n    showDetails = () => {\n        console.log(this.state.isToggleOn);\n        this.setState({isToggleOn: !this.state.isToggleOn},()=>console.log(this.state.isToggleOn));\n    }\n    \n    handleClose = () => {\n        this.setState({isToggleOn: !this.state.isToggleOn});\n    }\n\n\n    render() {\n        return (\n            <Wrapper>\n                {\n                    this.state.isToggleOn && <DetailsModal contact={this.props.contact} isToggleOn={this.state.isToggleOn} handleClose={this.handleClose}></DetailsModal>\n                }\n                <Card\n                    status = {this.state.isSwiped}\n                    onDoubleClick = {this.showDetails}\n                    onMouseDown = {this.onDragStartMouse}\n                    onTouchStart = {this.onDragStartTouch}\n                >\n                    <ContactImage src={this.props.contact.image_url}></ContactImage>    \n                    <Details>\n                        <ContactName>{this.props.contact.first_name} {this.props.contact.last_name}</ContactName>\n                        \n                        { !this.state.isSwiped && \n                        <>\n                         <ContactDetails>{this.props.contact.phone}</ContactDetails>\n                         <ContactDetails>{this.props.contact.company}</ContactDetails>\n                        </>\n                        }\n                                                    \n                    </Details>\n                    <BorderBottom></BorderBottom>\n                </Card>\n                <DeleteBtn\n                    onClick={()=> {\n                        this.props.onDeleteContact();\n                        this.setState({isSwiped: false});\n                    }}\n                >\n                    <FontAwesomeIcon icon={faTrash}/>\n                </DeleteBtn>\n                {\n                    true && <DeleteModal isDeleted={this.state.isDeleted}></DeleteModal>\n                }\n            </Wrapper>\n        );\n    }\n}\n\nexport default ContactItem;"]},"metadata":{},"sourceType":"module"}