{"ast":null,"code":"var _jsxFileName = \"/home/ashraf/Desktop/contact-list-release2/src/components/ContactItem/ContactItem.js\";\nimport React, { Component } from 'react';\nimport { BorderBottom, Wrapper, DeleteBtn, Card, Details, ContactDetails, ContactImage, ContactName } from \"./ContactItemStyle\";\nimport DetailsModal from \"../DetailsModal/DetailsModal\";\nimport DeleteModal from \"../DeleteModal/DeleteModal\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\n\nclass ContactItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDragStart = x => {\n      this.setState({\n        isDragged: true,\n        startX: x\n      });\n      this.startTime = Date.now();\n      requestAnimationFrame(this.updatePosition);\n    };\n\n    this.onDragEnd = () => {\n      if (this.state.isDragged) {\n        this.setState({\n          isDragged: false\n        });\n\n        if (this.state.left < -66 && !this.state.isSwiped) {\n          this.setState({\n            left: -66,\n            isSwiped: true\n          });\n        } else {\n          this.setState({\n            left: 0,\n            isSwiped: false\n          });\n        }\n      }\n    };\n\n    this.onDragStartMouse = e => {\n      this.onDragStart(e.clientX);\n      window.addEventListener(\"mousemove\", this.onMouseMove);\n    };\n\n    this.onDragEndMouse = e => {\n      window.removeEventListener(\"mousemove\", this.onMouseMove);\n      this.onDragEnd();\n    };\n\n    this.onDragStartTouch = e => {\n      const touch = e.targetTouches[0];\n      this.onDragStart(touch.clientX);\n      window.addEventListener(\"touchmove\", this.onTouchMove);\n    };\n\n    this.onDragEndTouch = e => {\n      window.removeEventListener(\"touchmove\", this.onTouchMove);\n      this.onDragEnd();\n    };\n\n    this.onMouseMove = e => {\n      const left = e.clientX - this.state.startX;\n\n      if (left < 0) {\n        this.setState({\n          left: left\n        });\n      }\n    };\n\n    this.onTouchMove = e => {\n      const touch = e.targetTouches[0];\n      const left = touch.clientX - this.state.startX;\n\n      if (left < 0) {\n        this.setState({\n          left: left\n        });\n      }\n    };\n\n    this.handleDetailsModal = () => {\n      this.setState({\n        showDetailsFlag: !this.state.showDetailsFlag\n      });\n      this.setState({\n        isSwiped: false\n      });\n    };\n\n    this.handleDeleteModal = () => {\n      this.setState({\n        confirmDeleteFlag: !this.state.confirmDeleteFlag,\n        isSwiped: false\n      });\n    };\n\n    this.removeContact = () => {\n      this.props.onDeleteContact();\n      this.setState({\n        isSwiped: false\n      });\n      this.setState({\n        confirmDeleteFlag: false\n      });\n    };\n\n    this.state = {\n      isDragged: false,\n      // flag to check dragging\n      showDetailsFlag: false,\n      // flag to check showing contact details\n      confirmDeleteFlag: false,\n      // flag to check deleting contact\n      isSwiped: false,\n      // flag to check swipping\n      startX: 0,\n      left: 0\n    };\n  } // The mouseup event is fired when a button (mouse or trackpad) is released while the pointer is located inside it. \n  // The touchend event is like mouseup event but (for touch screens only)\n\n\n  componentDidMount() {\n    window.addEventListener(\"mouseup\", this.onDragEndMouse);\n    window.addEventListener(\"touchend\", this.onDragEndTouch);\n  } // to control the start of the drag\n  // use requestAnimationFrame(callback) to tell the browser to perform an animation\n  // it requests that the browser calls a specified function to update an animation\n\n\n  render() {\n    return React.createElement(Wrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, this.state.showDetailsFlag && React.createElement(DetailsModal, {\n      contact: this.props.contact,\n      showDetailsFlag: this.state.showDetailsFlag,\n      handleDetailsModal: this.handleDetailsModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(Card, {\n      status: this.state.isSwiped,\n      onDoubleClick: this.handleDetailsModal,\n      onMouseDown: this.onDragStartMouse,\n      onTouchStart: this.onDragStartTouch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(ContactImage, {\n      src: this.props.contact.image_url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(Details, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(ContactName, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, this.props.contact.first_name, \" \", this.props.contact.last_name), !this.state.isSwiped && React.createElement(React.Fragment, null, React.createElement(ContactDetails, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, this.props.contact.phone), React.createElement(ContactDetails, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, this.props.contact.company))), React.createElement(BorderBottom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    })), React.createElement(DeleteBtn, {\n      onClick: this.handleDeleteModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faTrash,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })), this.state.confirmDeleteFlag && React.createElement(DeleteModal, {\n      confirmDeleteFlag: this.state.confirmDeleteFlag,\n      handleDeleteModal: this.handleDeleteModal,\n      removeContact: this.removeContact,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ContactItem;","map":{"version":3,"sources":["/home/ashraf/Desktop/contact-list-release2/src/components/ContactItem/ContactItem.js"],"names":["React","Component","BorderBottom","Wrapper","DeleteBtn","Card","Details","ContactDetails","ContactImage","ContactName","DetailsModal","DeleteModal","FontAwesomeIcon","faTrash","ContactItem","constructor","props","onDragStart","x","setState","isDragged","startX","startTime","Date","now","requestAnimationFrame","updatePosition","onDragEnd","state","left","isSwiped","onDragStartMouse","e","clientX","window","addEventListener","onMouseMove","onDragEndMouse","removeEventListener","onDragStartTouch","touch","targetTouches","onTouchMove","onDragEndTouch","handleDetailsModal","showDetailsFlag","handleDeleteModal","confirmDeleteFlag","removeContact","onDeleteContact","componentDidMount","render","contact","image_url","first_name","last_name","phone","company"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,YAAT,EAAuBC,OAAvB,EAAgCC,SAAhC,EAA2CC,IAA3C,EAAiDC,OAAjD,EAA0DC,cAA1D,EAA0EC,YAA1E,EAAwFC,WAAxF,QAA2G,oBAA3G;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,OAAT,QAAwB,mCAAxB;;AAGA,MAAMC,WAAN,SAA0Bb,SAA1B,CAAoC;AAEhCc,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAsBnBC,WAtBmB,GAsBJC,CAAD,IAAO;AACjB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,SAAS,EAAE,IAAb;AAAmBC,QAAAA,MAAM,EAAEH;AAA3B,OAAd;AACA,WAAKI,SAAL,GAAiBC,IAAI,CAACC,GAAL,EAAjB;AACAC,MAAAA,qBAAqB,CAAC,KAAKC,cAAN,CAArB;AACH,KA1BkB;;AAAA,SA6BnBC,SA7BmB,GA6BP,MAAM;AACd,UAAI,KAAKC,KAAL,CAAWR,SAAf,EAA0B;AACtB,aAAKD,QAAL,CAAc;AAAEC,UAAAA,SAAS,EAAE;AAAb,SAAd;;AACA,YAAI,KAAKQ,KAAL,CAAWC,IAAX,GAAkB,CAAC,EAAnB,IAAyB,CAAC,KAAKD,KAAL,CAAWE,QAAzC,EAAmD;AAC/C,eAAKX,QAAL,CAAc;AAAEU,YAAAA,IAAI,EAAE,CAAC,EAAT;AAAaC,YAAAA,QAAQ,EAAE;AAAvB,WAAd;AACH,SAFD,MAEO;AACH,eAAKX,QAAL,CAAc;AAAEU,YAAAA,IAAI,EAAE,CAAR;AAAWC,YAAAA,QAAQ,EAAE;AAArB,WAAd;AACH;AACJ;AACJ,KAtCkB;;AAAA,SA0CnBC,gBA1CmB,GA0CCC,CAAD,IAAO;AACtB,WAAKf,WAAL,CAAiBe,CAAC,CAACC,OAAnB;AACAC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqC,KAAKC,WAA1C;AACH,KA7CkB;;AAAA,SAiDnBC,cAjDmB,GAiDDL,CAAD,IAAO;AACpBE,MAAAA,MAAM,CAACI,mBAAP,CAA2B,WAA3B,EAAwC,KAAKF,WAA7C;AACA,WAAKT,SAAL;AACH,KApDkB;;AAAA,SAwDnBY,gBAxDmB,GAwDCP,CAAD,IAAO;AACtB,YAAMQ,KAAK,GAAGR,CAAC,CAACS,aAAF,CAAgB,CAAhB,CAAd;AACA,WAAKxB,WAAL,CAAiBuB,KAAK,CAACP,OAAvB;AACAC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqC,KAAKO,WAA1C;AACH,KA5DkB;;AAAA,SAgEnBC,cAhEmB,GAgEDX,CAAD,IAAO;AACpBE,MAAAA,MAAM,CAACI,mBAAP,CAA2B,WAA3B,EAAwC,KAAKI,WAA7C;AACA,WAAKf,SAAL;AACH,KAnEkB;;AAAA,SAsEnBS,WAtEmB,GAsEJJ,CAAD,IAAO;AACjB,YAAMH,IAAI,GAAGG,CAAC,CAACC,OAAF,GAAY,KAAKL,KAAL,CAAWP,MAApC;;AACA,UAAIQ,IAAI,GAAG,CAAX,EAAc;AACV,aAAKV,QAAL,CAAc;AAAEU,UAAAA,IAAI,EAAEA;AAAR,SAAd;AACH;AACJ,KA3EkB;;AAAA,SA8EnBa,WA9EmB,GA8EJV,CAAD,IAAO;AACjB,YAAMQ,KAAK,GAAGR,CAAC,CAACS,aAAF,CAAgB,CAAhB,CAAd;AACA,YAAMZ,IAAI,GAAGW,KAAK,CAACP,OAAN,GAAgB,KAAKL,KAAL,CAAWP,MAAxC;;AACA,UAAIQ,IAAI,GAAG,CAAX,EAAc;AACV,aAAKV,QAAL,CAAc;AAAEU,UAAAA,IAAI,EAAEA;AAAR,SAAd;AACH;AACJ,KApFkB;;AAAA,SAqGnBe,kBArGmB,GAqGE,MAAM;AACvB,WAAKzB,QAAL,CAAc;AAAE0B,QAAAA,eAAe,EAAE,CAAC,KAAKjB,KAAL,CAAWiB;AAA/B,OAAd;AACA,WAAK1B,QAAL,CAAc;AAAEW,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACH,KAxGkB;;AAAA,SA2GnBgB,iBA3GmB,GA2GC,MAAM;AACtB,WAAK3B,QAAL,CAAc;AAAE4B,QAAAA,iBAAiB,EAAE,CAAC,KAAKnB,KAAL,CAAWmB,iBAAjC;AAAoDjB,QAAAA,QAAQ,EAAE;AAA9D,OAAd;AACH,KA7GkB;;AAAA,SAgHnBkB,aAhHmB,GAgHH,MAAM;AAClB,WAAKhC,KAAL,CAAWiC,eAAX;AACA,WAAK9B,QAAL,CAAc;AAAEW,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACA,WAAKX,QAAL,CAAc;AAAE4B,QAAAA,iBAAiB,EAAE;AAArB,OAAd;AACH,KApHkB;;AAEf,SAAKnB,KAAL,GAAa;AACTR,MAAAA,SAAS,EAAE,KADF;AACoB;AAC7ByB,MAAAA,eAAe,EAAE,KAFR;AAEoB;AAC7BE,MAAAA,iBAAiB,EAAE,KAHV;AAGoB;AAC7BjB,MAAAA,QAAQ,EAAE,KAJD;AAIoB;AAC7BT,MAAAA,MAAM,EAAE,CALC;AAMTQ,MAAAA,IAAI,EAAE;AANG,KAAb;AAQH,GAZ+B,CAchC;AACA;;;AACAqB,EAAAA,iBAAiB,GAAG;AAChBhB,IAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKE,cAAxC;AACAH,IAAAA,MAAM,CAACC,gBAAP,CAAwB,UAAxB,EAAoC,KAAKQ,cAAzC;AACH,GAnB+B,CAqBhC;AACA;AACA;;;AAkGAQ,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,KAAKvB,KAAL,CAAWiB,eAAX,IAA8B,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAE,KAAK7B,KAAL,CAAWoC,OAAlC;AAA2C,MAAA,eAAe,EAAE,KAAKxB,KAAL,CAAWiB,eAAvE;AAAwF,MAAA,kBAAkB,EAAE,KAAKD,kBAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFtC,EAII,oBAAC,IAAD;AACI,MAAA,MAAM,EAAE,KAAKhB,KAAL,CAAWE,QADvB;AAEI,MAAA,aAAa,EAAE,KAAKc,kBAFxB;AAGI,MAAA,WAAW,EAAE,KAAKb,gBAHtB;AAII,MAAA,YAAY,EAAE,KAAKQ,gBAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMI,oBAAC,YAAD;AAAc,MAAA,GAAG,EAAE,KAAKvB,KAAL,CAAWoC,OAAX,CAAmBC,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,EAOI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAc,KAAKrC,KAAL,CAAWoC,OAAX,CAAmBE,UAAjC,OAA8C,KAAKtC,KAAL,CAAWoC,OAAX,CAAmBG,SAAjE,CADJ,EAGK,CAAC,KAAK3B,KAAL,CAAWE,QAAZ,IACG,0CACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiB,KAAKd,KAAL,CAAWoC,OAAX,CAAmBI,KAApC,CADJ,EAEI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiB,KAAKxC,KAAL,CAAWoC,OAAX,CAAmBK,OAApC,CAFJ,CAJR,CAPJ,EAkBI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBJ,CAJJ,EAwBI,oBAAC,SAAD;AAAW,MAAA,OAAO,EAAE,KAAKX,iBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEjC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAxBJ,EA4BQ,KAAKe,KAAL,CAAWmB,iBAAX,IAAgC,oBAAC,WAAD;AAAa,MAAA,iBAAiB,EAAE,KAAKnB,KAAL,CAAWmB,iBAA3C;AAA8D,MAAA,iBAAiB,EAAE,KAAKD,iBAAtF;AAAyG,MAAA,aAAa,EAAE,KAAKE,aAA7H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5BxC,CADJ;AAiCH;;AA3J+B;;AA8JpC,eAAelC,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport { BorderBottom, Wrapper, DeleteBtn, Card, Details, ContactDetails, ContactImage, ContactName } from \"./ContactItemStyle\";\nimport DetailsModal from \"../DetailsModal/DetailsModal\";\nimport DeleteModal from \"../DeleteModal/DeleteModal\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\n\n\nclass ContactItem extends Component {\n    startTime;\n    constructor(props) {\n        super(props);\n        this.state = {\n            isDragged: false,            // flag to check dragging\n            showDetailsFlag: false,      // flag to check showing contact details\n            confirmDeleteFlag: false,    // flag to check deleting contact\n            isSwiped: false,             // flag to check swipping\n            startX: 0,\n            left: 0,\n        }\n    }\n\n    // The mouseup event is fired when a button (mouse or trackpad) is released while the pointer is located inside it. \n    // The touchend event is like mouseup event but (for touch screens only)\n    componentDidMount() {\n        window.addEventListener(\"mouseup\", this.onDragEndMouse);\n        window.addEventListener(\"touchend\", this.onDragEndTouch);\n    }\n\n    // to control the start of the drag\n    // use requestAnimationFrame(callback) to tell the browser to perform an animation\n    // it requests that the browser calls a specified function to update an animation\n    onDragStart = (x) => {\n        this.setState({ isDragged: true, startX: x });\n        this.startTime = Date.now();\n        requestAnimationFrame(this.updatePosition);\n    }\n\n    // to control the end of the drag\n    onDragEnd = () => {\n        if (this.state.isDragged) {\n            this.setState({ isDragged: false });\n            if (this.state.left < -66 && !this.state.isSwiped) {\n                this.setState({ left: -66, isSwiped: true });\n            } else {\n                this.setState({ left: 0, isSwiped: false });\n            }\n        }\n    }\n\n    // pass the start point of the event and pass it to onDragStart()\n    // fire mousemove event when a mouse is moved\n    onDragStartMouse = (e) => {\n        this.onDragStart(e.clientX);\n        window.addEventListener(\"mousemove\", this.onMouseMove);\n    }\n\n    // remove mousemove event when mouse is released\n    // call onDragEnd() to handle swipe\n    onDragEndMouse = (e) => {\n        window.removeEventListener(\"mousemove\", this.onMouseMove);\n        this.onDragEnd();\n    }\n\n    // pass the start point of the event and pass it to onDragStart()\n    // fire touchmove event when touchpad is moved\n    onDragStartTouch = (e) => {\n        const touch = e.targetTouches[0];\n        this.onDragStart(touch.clientX);\n        window.addEventListener(\"touchmove\", this.onTouchMove);\n    }\n\n    // remove mousemove event when touchpad is released\n    // call onDragEnd() to handle swipe\n    onDragEndTouch = (e) => {\n        window.removeEventListener(\"touchmove\", this.onTouchMove);\n        this.onDragEnd();\n    }\n\n    // fire mousemove event when a mouse is moved while pressed\n    onMouseMove = (e) => {\n        const left = e.clientX - this.state.startX;\n        if (left < 0) {\n            this.setState({ left: left });\n        }\n    }\n\n    // fire mousemove event when touchpad is moved while pressed\n    onTouchMove = (e) => {\n        const touch = e.targetTouches[0];\n        const left = touch.clientX - this.state.startX;\n        if (left < 0) {\n            this.setState({ left: left });\n        }\n    }\n\n\n    // updatePosition = () => {\n    //     if (this.state.isDragged) {\n    //         requestAnimationFrame(this.updatePosition);\n    //     }\n\n    //     const time = Date.now();\n    //     const elapsedTime = time - this.startTime;\n\n    //     if (this.state.isDragged && (elapsedTime > 1000 / 60)) {\n    //         this.startTime = Date.now();\n    //     }\n    // }\n\n    // to control show and hide the Details Modal\n    handleDetailsModal = () => {\n        this.setState({ showDetailsFlag: !this.state.showDetailsFlag });\n        this.setState({ isSwiped: false });\n    }\n\n    // to control show and hide the Delete Modal\n    handleDeleteModal = () => {\n        this.setState({ confirmDeleteFlag: !this.state.confirmDeleteFlag, isSwiped: false });\n    }\n\n    // to remove a specific contact by calling onDeleteContact() from parent \n    removeContact = () => {\n        this.props.onDeleteContact();\n        this.setState({ isSwiped: false });\n        this.setState({ confirmDeleteFlag: false });\n    }\n\n\n    render() {\n        return (\n            <Wrapper>\n                {\n                    this.state.showDetailsFlag && <DetailsModal contact={this.props.contact} showDetailsFlag={this.state.showDetailsFlag} handleDetailsModal={this.handleDetailsModal}></DetailsModal>\n                }\n                <Card\n                    status={this.state.isSwiped}\n                    onDoubleClick={this.handleDetailsModal}\n                    onMouseDown={this.onDragStartMouse}\n                    onTouchStart={this.onDragStartTouch}\n                >\n                    <ContactImage src={this.props.contact.image_url}></ContactImage>\n                    <Details>\n                        <ContactName>{this.props.contact.first_name} {this.props.contact.last_name}</ContactName>\n\n                        {!this.state.isSwiped &&\n                            <>\n                                <ContactDetails>{this.props.contact.phone}</ContactDetails>\n                                <ContactDetails>{this.props.contact.company}</ContactDetails>\n                            </>\n                        }\n\n                    </Details>\n                    <BorderBottom></BorderBottom>\n                </Card>\n                <DeleteBtn onClick={this.handleDeleteModal}>\n                    <FontAwesomeIcon icon={faTrash} />\n                </DeleteBtn>\n                {\n                    this.state.confirmDeleteFlag && <DeleteModal confirmDeleteFlag={this.state.confirmDeleteFlag} handleDeleteModal={this.handleDeleteModal} removeContact={this.removeContact}></DeleteModal>\n                }\n            </Wrapper>\n        );\n    }\n}\n\nexport default ContactItem;"]},"metadata":{},"sourceType":"module"}